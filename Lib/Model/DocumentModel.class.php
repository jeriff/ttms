<?php    /*     * 	文档管理     *  author:jason.guo	      * 	updata:2012-08-30     */class DocumentModel extends Model {	/*默认表*/    protected $TableName = 'document';	/*默认主键*/    protected $pk = 'id';    /*     * 	文档列表	 *	$map为查询条件     *  author:jason.guo	      * 	updata:2012-08-30     */	public function getDocument($map){		$map['document_status']=1;		/*导入分页类*/		import("@.ORG.Page"); // $page->parameter .= "&storage_id=".$map['storage_id'];		$count = $this->where($map)->count();		$page = new Page($count, 20);		$show = $page->show();		$list = $this->where($map)->limit($page->firstRow . ',' . $page->listRows)->order('id desc')->findAll();		//dump($this->getLastsql());        return array('list'=>$list,'show'=>$show);	}}?>